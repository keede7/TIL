### Polling

클라이언트가 일정 주기로 서버에게 필요한 데이터를 요청하는 방식이다.

변경 사항의 여부와 관계 없이 계속 요청을 보내기 떄문에, 서버에 부담을 주게 된다

네트워크나 HTTP 커넥션을 맺기 위한 비용이 계속 발생한다.


---


### Long Polling

서버는 클라이언트 요청에 대해 즉시 응답을 주지 않는다.

그리고 다음과 같은 순서로 진행된다.

1) 클라이언트가 서버에 요청을 보낸다.

2) 서버는 즉시 응답을 주지 않는다.

3) 특정 이벤트가 발생하거나 타임아웃이 발생하면 응답을 전달한다.

4) 응답을 받은 클라이언트는 다시 서버에게 데이터를 요청한다.


`Polling` 은 주기적으로 데이터를 요청하면서 의미없이 서버의 리소스를 소비하게 됩니다. 

언뜻 보기에 이벤트가 발생했을 때만 클라이언트로 응답을 주는 `Long Polling` 방식이 유용해보입니다.

**하지만, 항상 그렇지는 않습니다.** 

예를 들어 100명이 채팅하는 단체 채팅방을 롱 폴링으로 구현했다고 가정합니다. 

누군가 한마디 메세지를 작성하면 100명이 동시에 응답을 받고, 100명이 동시에 다시 요청을 수행합니다. 

서버의 요청 큐(request queue)에 급작스런 요청이 몰리면서 서버에 부하가 발생할 수 있습니다. 

클라이언트에게 제공해야하는 서비스 성격과 특징에 따라 적절한 방식을 선택하는 것이 좋아보입니다.


---

### 선택 방법

- `Long Polling` 방식 선택
    - 응답을 실시간으로 받아야하는 경우
    - 메신저 같이 1 on 1, 혹은 적은 수의 사용자가 동시에 사용하는 경우
    - 예를 들어, Facebook 웹 채팅, Google 메신저, MSN 웹 메신저


- `Polling` 방식 선택
    - 응답을 실시간으로 받지 않아도 되는 경우
    - 다수의 사용자가 동시에 사용하는 경우
    - 예를 들어, 전체 채팅이 필요한 웹 게임
